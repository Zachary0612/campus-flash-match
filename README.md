# ğŸ“ æ ¡å›­é—ªé… - Campus Flash Match

> æ ¡å›­æ‹¼å•çº¦ä¼´å¹³å° | åŸºäºä½ç½®çš„æ ¡å›­ç¤¾äº¤ç³»ç»Ÿ

[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-2.7.x-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Vue](https://img.shields.io/badge/Vue-3.4.x-brightgreen.svg)](https://vuejs.org/)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

## ğŸ“– é¡¹ç›®ç®€ä»‹

æ ¡å›­é—ªé…æ˜¯ä¸€ä¸ªä¸“ä¸ºæ ¡å›­ç”¨æˆ·è®¾è®¡çš„æ‹¼å•çº¦ä¼´å¹³å°ï¼Œæ”¯æŒï¼š
- ğŸ›’ **æ‹¼å•åŠŸèƒ½** - é£Ÿå ‚æ‹¼å•ã€å¤–å–æ‹¼å•
- ğŸ‘¥ **çº¦ä¼´åŠŸèƒ½** - å›¾ä¹¦é¦†å­¦ä¹ ã€è¿åŠ¨å¥èº«
- ğŸ“ **ä¿¡æ ‡åŠŸèƒ½** - å ä½æ ‡è®°ã€æ’é˜Ÿæé†’
- â­ **ä¿¡ç”¨ä½“ç³»** - ä¿¡ç”¨åˆ†ç®¡ç†ã€è¯šä¿¡ä¿éšœ
- ğŸ’¬ **å®æ—¶é€šçŸ¥** - WebSocket å®æ—¶æ¨é€

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
campus-flash-match/
â”œâ”€â”€ src/                        # åç«¯æºç ï¼ˆSpring Bootï¼‰
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/com/campus/
â”‚   â”‚   â”‚   â”œâ”€â”€ controller/    # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ service/       # æœåŠ¡å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ entity/        # å®ä½“ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ config/        # é…ç½®ç±»
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ application.yml
â”‚   â”‚       â”œâ”€â”€ schema.sql
â”‚   â”‚       â””â”€â”€ data.sql
â”‚   â””â”€â”€ test/
â”‚
â”œâ”€â”€ frontend/                   # å‰ç«¯é¡¹ç›®ï¼ˆVue 3ï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/               # API æ¥å£å°è£…
â”‚   â”‚   â”œâ”€â”€ components/        # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ stores/            # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ views/             # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/            # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ docs/                       # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ START.md               # å¯åŠ¨æŒ‡å—
â”‚   â”œâ”€â”€ API_MAPPING.md         # API æ–‡æ¡£
â”‚   â””â”€â”€ FRONTEND_SUMMARY.md    # å‰ç«¯æ€»ç»“
â”‚
â”œâ”€â”€ start-backend.cmd          # å¯åŠ¨åç«¯è„šæœ¬
â”œâ”€â”€ start-frontend.cmd         # å¯åŠ¨å‰ç«¯è„šæœ¬
â”œâ”€â”€ start-all.ps1              # ä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ pom.xml                    # Maven é…ç½®
â””â”€â”€ README.md                  # æœ¬æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

**åç«¯ï¼š**
- Java 17+
- Maven 3.6+
- PostgreSQL 14+
- Redis 6+
- RabbitMQ 3.9+

**å‰ç«¯ï¼š**
- Node.js 16+
- npm 8+

### æ–¹å¼ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

#### Windows ç”¨æˆ·

**å¯åŠ¨åç«¯ï¼š**
```cmd
start-backend.cmd
```

**å¯åŠ¨å‰ç«¯ï¼š**
```cmd
start-frontend.cmd
```

**ä¸€é”®å¯åŠ¨å…¨éƒ¨ï¼š**
```powershell
.\start-all.ps1
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨

#### 1. å¯åŠ¨åç«¯

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
.\mvnw spring-boot:run
```

ç­‰å¾…çœ‹åˆ°ï¼š
```
Started CampusFlashMatchApplication in X.XXX seconds
```

è®¿é—®ï¼šhttp://localhost:8080

#### 2. å¯åŠ¨å‰ç«¯

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# é¦–æ¬¡è¿è¡Œéœ€è¦å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

ç­‰å¾…çœ‹åˆ°ï¼š
```
VITE v5.4.21  ready in XXX ms
âœ  Local:   http://localhost:3000/
```

è®¿é—®ï¼šhttp://localhost:3000

## ğŸ’» æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Spring Boot | 2.7.x | æ ¸å¿ƒæ¡†æ¶ |
| MyBatis-Plus | 3.5.x | ORM æ¡†æ¶ |
| PostgreSQL | 14.x | å…³ç³»å‹æ•°æ®åº“ |
| Redis | 6.x | ç¼“å­˜ + GEO ä½ç½® |
| RabbitMQ | 3.9.x | æ¶ˆæ¯é˜Ÿåˆ— |
| WebSocket | - | å®æ—¶é€šä¿¡ |
| JWT | - | èº«ä»½è®¤è¯ |
| Swagger | 3.x | API æ–‡æ¡£ |

### å‰ç«¯æŠ€æœ¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Vue | 3.4.x | æ¸è¿›å¼æ¡†æ¶ |
| Vite | 5.x | æ„å»ºå·¥å…· |
| Vue Router | 4.x | è·¯ç”±ç®¡ç† |
| Pinia | 2.x | çŠ¶æ€ç®¡ç† |
| Element Plus | 2.6.x | UI ç»„ä»¶åº“ |
| Axios | 1.6.x | HTTP å®¢æˆ·ç«¯ |
| TailwindCSS | 3.4.x | CSS æ¡†æ¶ |
| Day.js | 1.11.x | æ—¥æœŸå¤„ç† |

## ğŸ“š æ ¸å¿ƒåŠŸèƒ½

### 1. ç”¨æˆ·ç®¡ç†
- âœ… æ ¡å›­ç”¨æˆ·æ³¨å†Œï¼ˆIP æ ¡éªŒï¼‰
- âœ… ç”¨æˆ·ç™»å½•ï¼ˆJWT è®¤è¯ï¼‰
- âœ… æ ¡å›­ä½ç½®ç»‘å®š
- âœ… ä¿¡ç”¨åˆ†æŸ¥è¯¢

### 2. äº‹ä»¶ç®¡ç†
- âœ… å‘èµ·æ‹¼å•/çº¦ä¼´äº‹ä»¶
- âœ… æŸ¥è¯¢é™„è¿‘ 1km å†…äº‹ä»¶
- âœ… å‚ä¸/é€€å‡ºäº‹ä»¶
- âœ… äº‹ä»¶å†å²è®°å½•

### 3. ä¿¡æ ‡åŠŸèƒ½
- âœ… å‘å¸ƒå ä½ä¿¡æ ‡
- âœ… æŸ¥çœ‹é™„è¿‘ä¿¡æ ‡
- âœ… ä¸¾æŠ¥è™šå‡ä¿¡æ ‡

### 4. ä¿¡ç”¨åˆ†ä½“ç³»
- âœ… åˆå§‹ 80 åˆ†
- âœ… æˆåŠŸå‚ä¸ +2 åˆ†
- âœ… æ¶æ„é€€å‡º -5 åˆ†
- âœ… è™šå‡ä¿¡æ ‡ -10 åˆ†

### 5. å®æ—¶é€šçŸ¥
- âœ… äº‹ä»¶æ»¡å‘˜é€šçŸ¥
- âœ… äº‹ä»¶ç»“ç®—é€šçŸ¥
- âœ… æ–°æˆå‘˜åŠ å…¥æé†’

## ğŸ”§ é…ç½®è¯´æ˜

### åç«¯é…ç½®

ç¼–è¾‘ `src/main/resources/application.yml`ï¼š

```yaml
# æ•°æ®åº“é…ç½®
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/postgres
    username: postgres
    password: 123456

# Redis é…ç½®
  data:
    redis:
      host: localhost
      port: 6379

# RabbitMQ é…ç½®
  rabbitmq:
    host: localhost
    port: 5672
    username: zachary
    password: 123456

# é¡¹ç›®é…ç½®
campus:
  ip-prefix: "10"  # æ ¡å›­ IP å‰ç¼€
```

### å‰ç«¯é…ç½®

ç¼–è¾‘ `frontend/vite.config.js`ï¼š

```javascript
export default defineConfig({
  server: {
    port: 3000,
    proxy: {
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true
      }
    }
  }
})
```

## ğŸ“– æ–‡æ¡£

- [ğŸ“˜ å¯åŠ¨æŒ‡å—](docs/START.md) - è¯¦ç»†çš„å¯åŠ¨æ­¥éª¤
- [ğŸ“— API æ–‡æ¡£](docs/API_MAPPING.md) - å‰åç«¯ API æ˜ å°„
- [ğŸ“™ å‰ç«¯æ–‡æ¡£](frontend/README.md) - å‰ç«¯é¡¹ç›®è¯´æ˜
- [ğŸ“• é‡æ„æŒ‡å—](docs/RESTRUCTURE_GUIDE.md) - é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ§ª æµ‹è¯•æµç¨‹

1. **æ³¨å†Œè´¦å·** â†’ è¾“å…¥å­¦å·ã€æ˜µç§°ã€å¯†ç 
2. **ç™»å½•ç³»ç»Ÿ** â†’ ä½¿ç”¨å­¦å·å’Œå¯†ç ç™»å½•
3. **ç»‘å®šä½ç½®** â†’ é€‰æ‹©æ ¡å›­ç‚¹ä½
4. **å‘èµ·äº‹ä»¶** â†’ åˆ›å»ºæ‹¼å•æˆ–çº¦ä¼´
5. **å‚ä¸äº‹ä»¶** â†’ æŸ¥çœ‹å¹¶åŠ å…¥é™„è¿‘äº‹ä»¶
6. **æŸ¥çœ‹ä¿¡ç”¨åˆ†** â†’ æŸ¥çœ‹ä¿¡ç”¨åˆ†å˜æ›´è®°å½•

## ğŸ› æ•…éšœæ’æŸ¥

### åç«¯å¯åŠ¨å¤±è´¥
- æ£€æŸ¥ PostgreSQL æ˜¯å¦å¯åŠ¨
- æ£€æŸ¥ Redis æ˜¯å¦å¯åŠ¨
- æ£€æŸ¥ RabbitMQ æ˜¯å¦å¯åŠ¨
- æ£€æŸ¥ç«¯å£ 8080 æ˜¯å¦è¢«å ç”¨

### å‰ç«¯æ— æ³•è®¿é—®
- ç¡®è®¤åç«¯æœåŠ¡å·²å¯åŠ¨
- ç¡®è®¤åœ¨ `frontend` ç›®å½•ä¸‹è¿è¡Œ
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

### WebSocket è¿æ¥å¤±è´¥
- ç¡®è®¤ç”¨æˆ·å·²ç™»å½•
- æ£€æŸ¥åç«¯ WebSocket é…ç½®
- æŸ¥çœ‹æµè§ˆå™¨ Network â†’ WS æ ‡ç­¾

## ğŸ“Š API æ¥å£

### ç”¨æˆ·æ¥å£
- `POST /api/user/register` - æ³¨å†Œ
- `POST /api/user/login` - ç™»å½•
- `PUT /api/user/location` - ç»‘å®šä½ç½®
- `GET /api/user/credit` - æŸ¥è¯¢ä¿¡ç”¨åˆ†

### äº‹ä»¶æ¥å£
- `POST /api/event/create` - åˆ›å»ºäº‹ä»¶
- `GET /api/event/nearby` - é™„è¿‘äº‹ä»¶
- `POST /api/event/join` - å‚ä¸äº‹ä»¶
- `POST /api/event/quit` - é€€å‡ºäº‹ä»¶
- `GET /api/event/history` - äº‹ä»¶å†å²

### ä¿¡æ ‡æ¥å£
- `POST /api/beacon/publish` - å‘å¸ƒä¿¡æ ‡
- `POST /api/beacon/report` - ä¸¾æŠ¥ä¿¡æ ‡

### ä¿¡ç”¨åˆ†æ¥å£
- `GET /api/credit/records` - ä¿¡ç”¨åˆ†è®°å½•

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

[MIT License](LICENSE)

## ğŸ‘¥ å¼€å‘å›¢é˜Ÿ

æ ¡å›­é—ªé…å¼€å‘å›¢é˜Ÿ

---

**å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ [å¯åŠ¨æŒ‡å—](docs/START.md) æˆ–æäº¤ Issueã€‚** ğŸš€
